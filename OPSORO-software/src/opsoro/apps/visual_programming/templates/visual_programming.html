{% extends "app_base.html" %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block base_toolbar %}
	{% include "toolbar/file_operations.html" %}
	{% include "toolbar/script_operations.html" %}
	{% include "toolbar/expand_collapse.html" %}
{% endblock %}

{% block page_content %}
	{{ super() }}
	<div id="pnlCode" class="hide">
		<pre id="editor"></pre>
	</div>
	<div id="pnlBlockly">
		<iframe id="blocklyFrame" src="blockly"></iframe>
	</div>
	<div id="console"></div>

{% endblock %}

{% block scripts %}
	{{ super() }}
	<script>
		var action_data = {{ actions|tojson|safe }};

		var scriptname ={% if script_name %}"{{ script_name }}"
		{% else %}
			null{% endif %};
		var isScriptModified = {{ "true" if script_modified else "false" }};
		var isScriptRunning = {{ "true" if script_running else "false" }};
	</script>

	<script src="/static/js/sockjs.min.js"></script>

	<script src="/static/js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
	<script src="/static/js/ace/mode-lua.js" type="text/javascript" charset="utf-8"></script>
	<script src="/apps/lua_scripting/static/ono-lua-highlighter.js" type="text/javascript" charset="utf-8"></script>

{% endblock %}

{% block modals %}
	{{ super() }}
	<div id="ScriptUIModal" class="reveal-modal small" data-reveal>
		<div class="titlebar">
			<a class="close-reveal-modal">
				<span class="fa fa-close"></span>
			</a>
			<span class="fa fa-gamepad"></span>
			Script UI
		</div>
		<div class="content">
			<div id="ScriptUIWrench" style="text-align: center;">
				<span class="fa fa-wrench" style="font-size: 5rem; color: #B2AFA1;"></span><br><br>
				The script has not created any UI elements yet!
			</div>
			<ul id="ScriptUIButtons" class="small-block-grid-4 hide" style="margin-bottom: -1.25rem;"></ul>
			<hr>
			<div id="ScriptUIKeys"></div>
		</div>
	</div>

{% endblock %}
